(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c74114c6"],{"3ed5":function(s,t,i){},d809:function(s,t,i){"use strict";var e=i("3ed5"),n=i.n(e);n.a},f675:function(s,t,i){"use strict";i.r(t);var e=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"discussion-list"},[i("div",{staticClass:"input-box"},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},clearable:"",placeholder:"有什么想法，请说啊～～～"},model:{value:s.inputText,callback:function(t){s.inputText=t},expression:"inputText"}}),i("div",{staticClass:"input-footer"},[i("el-button",{attrs:{type:"primary",size:"medium",loading:s.loading,disabled:!s.inputText||s.loading},on:{click:s.handlePublish}},[s._v("发表")])],1)],1),i("div",{staticClass:"comment-list"},s._l(s.discussionList,(function(t,e){return i("div",{key:e,staticClass:"comment-item"},[i("div",{staticClass:"comment-header"},[i("span",{staticClass:"comment-author"},[s._v(s._s(t.author))]),i("span",{staticClass:"comment-time"},[s._v(s._s(t.time))])]),i("div",{staticClass:"comment-body"},[i("span",{staticClass:"comment-text"},[s._v(s._s(t.text))])])])})),0)])},n=[],a={name:"discussion-list",data:function(){return{inputText:"",userName:"用户",userID:"",discussionList:[],loading:!1}},mounted:function(){this.getUserID(),this.getDiscussionList(),this.setDiscussionNums()},methods:{getUserID:function(){this.userID=localStorage.getItem("prophet-comment-user-id"),this.userID||(this.userID=Math.floor(Date.now()/1e3),localStorage.setItem("prophet-comment-user-id",this.userID))},getDiscussionList:function(){var s=this;this.$_api.analyze.getDiscussionList({},(function(t,i){t||(s.discussionList=Array.isArray(i)&&i||[],s.setDiscussionNums())}))},handlePublish:function(){var s=this,t={author:this.userName+this.userID,time:new Date,text:this.inputText};this.loading=!0,this.$_api.analyze.publishDiscussion(t,(function(i,e){s.loading=!1,i||(s.discussionList.push(t),s.setDiscussionNums(),s.inputText="")}))},setDiscussionNums:function(){this.$emit("update:discussionNums",this.discussionList.length)}}},u=a,o=(i("d809"),i("2877")),c=Object(o["a"])(u,e,n,!1,null,"370965fa",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-c74114c6.336143c7.js.map